{"title":"Carbon Intensity of Electricity Consumption","markdown":{"yaml":{"title":"Carbon Intensity of Electricity Consumption","format":"html","editor":"visual"},"headingText":"Table contest submission by Grant Chalmers.","containsRefs":false,"markdown":"\n\n\nData for this table comes from [Electricity Maps](https://app.electricitymaps.com/map). This project aims to provide a free, open-source, and transparent visualisation of the carbon intensity of electricity consumption around the world. Please see [here](https://www.electricitymaps.com/methodology?utm_source=app.electricitymaps.com&utm_medium=referral#introduction) if you are interested in how Electricity Maps:\n\n-   Collect data - data sources (how they verify and collect data)\n-   Handle missing data - estimation models\n-   Compute CO2 emissions - Carbon intensity and emission factors\n-   Process data from collection to carbon intensity calculation.\n\nThe Electricity Maps app is a community project and they welcome contributions from anyone!\n\nThey are always looking for help to build parsers for new countries, fix broken parsers, improve the frontend app, improve accuracy of data sources, discuss new potential data sources, update region capacities, and much more. See their GitHub page [here](https://github.com/electricitymaps/electricitymaps-contrib) for further information.\n\nIn my table submission, I use a similar colour scheme for carbon intensity, where greens represents relatively clean electricity consumption and browns represent higher emitting consumption. Importantly, electricity consumption takes into account imports and exports of neighbouring grids to provide a more holistic view of consumption.\n\nWhile the real-time nature of the Electricity Maps app is fantastic - a whole year view helps to eliminate seasonal variations that influence carbon intensity in many grids, particularly those employing a high percentage of variable renewable energy (VRE). A good example is California, which is non-trivially cleaner in the northern hemisphere summer compared to winter.\n\n![Electricity Maps screen capture focussing on western Europe at 5am.](EMs_snippet.png)\n\nMean **Carbon Intensity** (gCO2eq/kWh) and **Power Consumption** Breakdown (%) for the year 2023.\n\n```{r}\n#| warning: false\n# Load libraries \nlibrary(tidyverse)\nlibrary(gt)\nlibrary(showtext)\n\nshowtext_opts(dpi = 300)\nshowtext_auto(enable = TRUE)\n\n# Fonts\nfont_add_google(\"Fira Sans Condensed\")\nfont_add_google(\"Oswald\", \"oswald\")\n\n# Read in data\npower_cie_prepared_tbl <- read_csv(\"data/power_cie_prepared_tbl.csv\")\n\n# Create table\n# Note: While the carbon intensity data are freely available, the consumption\n# (Hydro to Battery Discharge columns) data requires subscription and hence I’ve\n# created a summary table instead of showing the preceding data wrangling steps.\nciep_gt_tbl <- power_cie_prepared_tbl %>% \n  \n  gt() %>%\n  \n  # Apply wider colour range to Carbon Intensity column to mimic source website\n  # colouring: \n  data_color(\n    columns = `CO2 Intensity`,\n    palette = c(\n      \"#00A600\", \"#E6E600\", \"#E8C32E\", \"#D69C4E\" ,\"#Dc863B\", \"sienna\", \"sienna4\",\n      \"tomato4\", \"brown\"),\n    domain = c(0, 900)\n  ) %>% \n  \n  # Apply colour range to highlight contribution of low-carbon generation to\n  # lower CO2 Intensity\n  data_color(\n    columns = Hydro:Geothermal,\n    palette = c(\n      \"#00A600\", \"chartreuse3\", \"chartreuse4\", \"snow\") %>% rev(),\n    domain = c(0, 1),\n    apply_to = \"fill\"\n  ) %>%\n  \n  # Apply colour range to highlight Biomass generation to mid CO2 Intensity\n  data_color(\n    columns = Biomass,\n    palette = c(\n      \"snow\", \"#EEC900\", \"#E8C32E\", \"#D69C4E\"),   #E6E600\n    domain = c(0, 0.3),\n    apply_to = \"fill\"\n  ) %>%\n  \n  # Apply colour range to highlight fossil fuel contribution to higher CO2 Intensity\n  data_color(\n    columns = Gas:Oil,\n    palette = c(\n      \"tomato4\", \"sienna4\", \"#D69C4E\", \"#Dc863B\", \"snow\") %>% rev(),\n    domain = c(0, 1),\n    apply_to = \"fill\"\n  ) %>%\n  \n  # Assign consistent background colour to remaining columns\n  data_color(\n    columns = Unknown:`Battery Discharge`,\n    palette = c(\n      \"snow\") %>% rev(),\n    domain = c(0, 1),\n    apply_to = \"fill\"\n  ) %>%\n  # Assign the same background to the Zone column\n  data_color(\n    columns = Zone,\n    palette = \"snow\",\n    apply_to = \"fill\"\n  ) %>%\n  \n  # Add header, source note and some styling options\n  tab_source_note(\n    md(\"**Table**: @GrantChalmers | **Source**: api.electricitymap.org | **Methodology**: https://www.electricitymaps.com/methodology. Emission factors used to calculate Carbon Intensity can be found on the *Carbon intensity and emission factors* tab.\")\n  ) %>%\n  tab_source_note(\n    source_note = md(\"Some emissions factors are based on IPCC 2014 defaults, while some are based on more accurate regional factors. All zones are publicly available on the *Carbon intensity and emission factors* tab via Google docs [link](https://docs.google.com/spreadsheets/d/1ukTAD_oQKZfq-FgLpbLo_bGOv-UPTaoM_WS316xlDcE/edit?usp=sharing)\")\n  ) %>%\n  tab_header(md(str_glue(\"2023 Mean **Carbon Intensity** (gCO2eq/kWh) and **Power Consumption** Breakdown (%)\"))) %>% \n  tab_options(\n    data_row.padding = px(1),\n    table.font.names = \"Fira Sans Condensed\", #Fira Sans Condensed\n    table.font.size = 12,\n    table.background.color = 'snow',\n    heading.background.color = 'antiquewhite',\n    column_labels.background.color = 'antiquewhite',\n    source_notes.background.color = 'antiquewhite',\n    source_notes.font.size = 8\n    \n  ) %>%\n  \n  tab_style_body(\n    style = cell_text(color = \"grey60\"),\n    values = 0\n  ) %>%\n  \n  \n  tab_style(\n    style = cell_text(\n      color = \"#A9A9A9\",\n      font = \"oswald\",\n      size  = \"xx-small\",\n      style = \"normal\"\n    ),\n    locations = cells_source_notes()\n  ) %>% \n  \n  cols_width(\n    2:last_col() ~ px(58) \n    \n  ) %>%\n  \n  cols_align(\n    align = \"center\",\n    columns = `CO2 Intensity`\n  ) %>% \n  \n  # Convert to percentage\n  fmt_percent(\n    columns = Hydro:`Battery Discharge`,\n    decimals = 1,\n    drop_trailing_zeros = TRUE\n  ) %>% \n  \n  fmt_number(\n    columns = `CO2 Intensity`,\n    decimals = 0,\n    drop_trailing_zeros = TRUE\n  ) %>%\n  \n  # align decimal points for easier reading\n  cols_align_decimal(\n    # Exclude CO2 Intensity\n    columns = 3:last_col()\n  ) %>% \n  # Add border to improve aesthetic\n  opt_table_outline()\n\n# Render table\nciep_gt_tbl\n```\n","srcMarkdownNoYaml":"\n\n## Table contest submission by Grant Chalmers.\n\nData for this table comes from [Electricity Maps](https://app.electricitymaps.com/map). This project aims to provide a free, open-source, and transparent visualisation of the carbon intensity of electricity consumption around the world. Please see [here](https://www.electricitymaps.com/methodology?utm_source=app.electricitymaps.com&utm_medium=referral#introduction) if you are interested in how Electricity Maps:\n\n-   Collect data - data sources (how they verify and collect data)\n-   Handle missing data - estimation models\n-   Compute CO2 emissions - Carbon intensity and emission factors\n-   Process data from collection to carbon intensity calculation.\n\nThe Electricity Maps app is a community project and they welcome contributions from anyone!\n\nThey are always looking for help to build parsers for new countries, fix broken parsers, improve the frontend app, improve accuracy of data sources, discuss new potential data sources, update region capacities, and much more. See their GitHub page [here](https://github.com/electricitymaps/electricitymaps-contrib) for further information.\n\nIn my table submission, I use a similar colour scheme for carbon intensity, where greens represents relatively clean electricity consumption and browns represent higher emitting consumption. Importantly, electricity consumption takes into account imports and exports of neighbouring grids to provide a more holistic view of consumption.\n\nWhile the real-time nature of the Electricity Maps app is fantastic - a whole year view helps to eliminate seasonal variations that influence carbon intensity in many grids, particularly those employing a high percentage of variable renewable energy (VRE). A good example is California, which is non-trivially cleaner in the northern hemisphere summer compared to winter.\n\n![Electricity Maps screen capture focussing on western Europe at 5am.](EMs_snippet.png)\n\nMean **Carbon Intensity** (gCO2eq/kWh) and **Power Consumption** Breakdown (%) for the year 2023.\n\n```{r}\n#| warning: false\n# Load libraries \nlibrary(tidyverse)\nlibrary(gt)\nlibrary(showtext)\n\nshowtext_opts(dpi = 300)\nshowtext_auto(enable = TRUE)\n\n# Fonts\nfont_add_google(\"Fira Sans Condensed\")\nfont_add_google(\"Oswald\", \"oswald\")\n\n# Read in data\npower_cie_prepared_tbl <- read_csv(\"data/power_cie_prepared_tbl.csv\")\n\n# Create table\n# Note: While the carbon intensity data are freely available, the consumption\n# (Hydro to Battery Discharge columns) data requires subscription and hence I’ve\n# created a summary table instead of showing the preceding data wrangling steps.\nciep_gt_tbl <- power_cie_prepared_tbl %>% \n  \n  gt() %>%\n  \n  # Apply wider colour range to Carbon Intensity column to mimic source website\n  # colouring: \n  data_color(\n    columns = `CO2 Intensity`,\n    palette = c(\n      \"#00A600\", \"#E6E600\", \"#E8C32E\", \"#D69C4E\" ,\"#Dc863B\", \"sienna\", \"sienna4\",\n      \"tomato4\", \"brown\"),\n    domain = c(0, 900)\n  ) %>% \n  \n  # Apply colour range to highlight contribution of low-carbon generation to\n  # lower CO2 Intensity\n  data_color(\n    columns = Hydro:Geothermal,\n    palette = c(\n      \"#00A600\", \"chartreuse3\", \"chartreuse4\", \"snow\") %>% rev(),\n    domain = c(0, 1),\n    apply_to = \"fill\"\n  ) %>%\n  \n  # Apply colour range to highlight Biomass generation to mid CO2 Intensity\n  data_color(\n    columns = Biomass,\n    palette = c(\n      \"snow\", \"#EEC900\", \"#E8C32E\", \"#D69C4E\"),   #E6E600\n    domain = c(0, 0.3),\n    apply_to = \"fill\"\n  ) %>%\n  \n  # Apply colour range to highlight fossil fuel contribution to higher CO2 Intensity\n  data_color(\n    columns = Gas:Oil,\n    palette = c(\n      \"tomato4\", \"sienna4\", \"#D69C4E\", \"#Dc863B\", \"snow\") %>% rev(),\n    domain = c(0, 1),\n    apply_to = \"fill\"\n  ) %>%\n  \n  # Assign consistent background colour to remaining columns\n  data_color(\n    columns = Unknown:`Battery Discharge`,\n    palette = c(\n      \"snow\") %>% rev(),\n    domain = c(0, 1),\n    apply_to = \"fill\"\n  ) %>%\n  # Assign the same background to the Zone column\n  data_color(\n    columns = Zone,\n    palette = \"snow\",\n    apply_to = \"fill\"\n  ) %>%\n  \n  # Add header, source note and some styling options\n  tab_source_note(\n    md(\"**Table**: @GrantChalmers | **Source**: api.electricitymap.org | **Methodology**: https://www.electricitymaps.com/methodology. Emission factors used to calculate Carbon Intensity can be found on the *Carbon intensity and emission factors* tab.\")\n  ) %>%\n  tab_source_note(\n    source_note = md(\"Some emissions factors are based on IPCC 2014 defaults, while some are based on more accurate regional factors. All zones are publicly available on the *Carbon intensity and emission factors* tab via Google docs [link](https://docs.google.com/spreadsheets/d/1ukTAD_oQKZfq-FgLpbLo_bGOv-UPTaoM_WS316xlDcE/edit?usp=sharing)\")\n  ) %>%\n  tab_header(md(str_glue(\"2023 Mean **Carbon Intensity** (gCO2eq/kWh) and **Power Consumption** Breakdown (%)\"))) %>% \n  tab_options(\n    data_row.padding = px(1),\n    table.font.names = \"Fira Sans Condensed\", #Fira Sans Condensed\n    table.font.size = 12,\n    table.background.color = 'snow',\n    heading.background.color = 'antiquewhite',\n    column_labels.background.color = 'antiquewhite',\n    source_notes.background.color = 'antiquewhite',\n    source_notes.font.size = 8\n    \n  ) %>%\n  \n  tab_style_body(\n    style = cell_text(color = \"grey60\"),\n    values = 0\n  ) %>%\n  \n  \n  tab_style(\n    style = cell_text(\n      color = \"#A9A9A9\",\n      font = \"oswald\",\n      size  = \"xx-small\",\n      style = \"normal\"\n    ),\n    locations = cells_source_notes()\n  ) %>% \n  \n  cols_width(\n    2:last_col() ~ px(58) \n    \n  ) %>%\n  \n  cols_align(\n    align = \"center\",\n    columns = `CO2 Intensity`\n  ) %>% \n  \n  # Convert to percentage\n  fmt_percent(\n    columns = Hydro:`Battery Discharge`,\n    decimals = 1,\n    drop_trailing_zeros = TRUE\n  ) %>% \n  \n  fmt_number(\n    columns = `CO2 Intensity`,\n    decimals = 0,\n    drop_trailing_zeros = TRUE\n  ) %>%\n  \n  # align decimal points for easier reading\n  cols_align_decimal(\n    # Exclude CO2 Intensity\n    columns = 3:last_col()\n  ) %>% \n  # Add border to improve aesthetic\n  opt_table_outline()\n\n# Render table\nciep_gt_tbl\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"table_contest_2024.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.553","editor":"visual","theme":"cosmo","title":"Carbon Intensity of Electricity Consumption"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}